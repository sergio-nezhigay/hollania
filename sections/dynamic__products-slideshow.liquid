{%- capture cssVariables -%}
  --section-bg-image: url('{{- section.settings.bg_image | image_url -}}');
  --section-bg-color: {{- section.settings.bg_color -}};
{%- endcapture -%}

<div
    class="pb-8 bg-[url:var(--section-bg-image)] bg-[--section-bg-color] bg-[left_top_1rem] bg-repeat xl:bg-none xl:pb-14"
    style="{{ cssVariables | strip }}"
>
  <div class="px-4 pt-8 pb-6 xl:py-14 xl:max-w-xl xl:mx-auto">
    <h2 class="section-title">{{ section.settings.heading }}</h2>
  </div>

  <div class="sl-container">
    {%- render 'products-slideshow', products: section.settings.collection.products -%}
  </div>
  {%-
    render 'button',
    url: section.settings.collection.url,
    content: section.settings.btn_text,
    class: 'btn-primary w-fit min-w-[180px] mx-auto mt-6 xl:mt-14 xl:min-w-[200px]'
  -%}
</div>

{%- schema %}
{
  "name": "Products slideshow",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "מיטות מתכווננות בטכנולוגית  Posturpedic Technology"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection",
      "info": "Select a collection to display"
    },
    {
      "type": "text",
      "id": "btn_text",
      "label": "Button text",
      "default": "לכל המיטות המתכווננות"
    },
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background image",
      "info": "Background position is left top, repeat both directions"
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    }
  ]
}
{%- endschema %}
