import{f as l}from"./fetchSections.f98a5208.min.js";import{i as d}from"./isNullOrUndefined.f9fb1932.min.js";class m extends HTMLElement{constructor(){super(...arguments),this.$parentLinks=[],this.$parentMenu=null,this.$underLine=null,this.$currentLink=null,this.handleMouseEnter=t=>{var e;(e=this.$parentMenu)==null||e.classList.remove("shadow-sl-24"),t.hidden=!1},this.handleMouseLeave=t=>{var e;(e=this.$parentMenu)==null||e.classList.add("shadow-sl-24"),t.hidden=!0}}async connectedCallback(){await this.init(),this.initDropdowns(),this.initUnderlineAnimation()}async init(){const t=await l("static__mega-menu");this.innerHTML=t["static__mega-menu"],this.$parentMenu=this.querySelector("[data-mgm-parent-menu]"),this.$parentLinks=this.querySelectorAll("[data-mgm-parent-link]"),this.$underLine=this.querySelector("[data-mgm-underline]"),this.$currentLink=this.querySelector(".sl-menu-current")}initDropdowns(){this.$parentLinks.forEach(t=>{const e=this.querySelector(`[data-mgm-sub-menu=${t.dataset.mgmParentLink}]`);if(d(e))return;let n;t.addEventListener("mouseenter",()=>{clearTimeout(n),this.handleMouseEnter(e)}),t.addEventListener("mouseleave",()=>{n=setTimeout(()=>{this.handleMouseLeave(e)},300)}),e.addEventListener("mouseenter",()=>clearTimeout(n)),e.addEventListener("mouseleave",()=>{n=setTimeout(()=>{this.handleMouseLeave(e)},300)})})}initUnderlineAnimation(){if(d(this.$underLine)||(this.$parentLinks.forEach(n=>{n.addEventListener("mouseenter",()=>{var s,r;const{left:u,width:i}=n.getBoundingClientRect();(s=this.$underLine)==null||s.style.setProperty("--mgm-underline-left",`${u+i/2}px`),(r=this.$underLine)==null||r.style.setProperty("--mgm-underline-width",`${i}px`)})}),this.addEventListener("mouseleave",()=>{var i,s,r;if(d(this.$currentLink)){(i=this.$underLine)==null||i.style.setProperty("--mgm-underline-width","0");return}const{left:n,width:u}=this.$currentLink.getBoundingClientRect();(s=this.$underLine)==null||s.style.setProperty("--mgm-underline-left",`${n+u/2}px`),(r=this.$underLine)==null||r.style.setProperty("--mgm-underline-width",`${u}px`)}),d(this.$currentLink)))return;const{left:t,width:e}=this.$currentLink.getBoundingClientRect();this.$underLine.style.setProperty("--mgm-underline-left",`${t+e/2}px`),this.$underLine.style.setProperty("--mgm-underline-width",`${e}px`)}}export{m as MegaMenu};
