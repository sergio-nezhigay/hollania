import{i as o}from"./isNullOrUndefined.f9fb1932.min.js";(()=>{const c=document.querySelector("[data-cs-forms-select]");if(o(c))return;c.addEventListener("change",()=>{document.querySelectorAll("[data-cs-form-block]").forEach(e=>{e.hidden=e.dataset.csFormBlock!==c.value})});const n=(e,a,s)=>{const t=e.querySelector("[data-cs-form-error]"),r=e.querySelector("[data-cs-form-success]");if(s===""){!o(t)&&!t.hidden&&(t.hidden=!0),!o(r)&&!r.hidden&&(r.hidden=!0);return}a==="error"?(o(t)||(t.textContent=s,t.hidden=!1,t.scrollIntoView({behavior:"smooth",block:"nearest"})),!o(r)&&!r.hidden&&(r.hidden=!0)):(o(r)||(r.hidden=!1,r.textContent=s,r.scrollIntoView({behavior:"smooth",block:"nearest"})),!o(t)&&!t.hidden&&(t.hidden=!0))};document.querySelectorAll("[data-cs-form]").forEach(e=>{e.addEventListener("submit",async a=>{a.preventDefault();const s=new FormData(e),t=e.querySelector('[name="accepts_marketing"]');if(!o(t)&&(console.log("acceptMarketing:",t),!t.checked)){n(e,"error","Please accept marketing."),t.addEventListener("change",()=>n(e,"",""));return}try{const r=await fetch(e.action,{method:"POST",body:s});if(r.ok){const i=await r.text();if(i.includes("Validation failed")){console.error(i),n(e,"error",i);return}e.reset(),console.log("Success! Response:",r),n(e,"success",`ההודעה נשלחה בהצלחה
נחזור אלייך בהקדם`);return}console.error("Error:",r),n(e,"error","Something wrong.")}catch(r){console.error("Error:",r),n(e,"error","There was an error submitting the form.")}})})})();
