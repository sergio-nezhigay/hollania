import{d as n}from"./debounce.0da8d65a.min.js";const a=(s,i=99)=>{let t=!1,e=null,o;function r(){if(t){e=arguments,o=this;return}s.apply(this,arguments),t=!0,setTimeout(()=>{t=!1,e&&(r.apply(o,e),e=o=null)},i)}return r};class h extends HTMLElement{constructor(){super(...arguments),this.$arrowTop=this.querySelector("[data-arrow-top]"),this.$arrowBottom=this.querySelector("[data-arrow-bottom]"),this.$thumbnailsContainer=this.querySelector("[data-thumbnail-container]"),this.$thumbnails=this.querySelectorAll("[data-thumbnail]"),this.$targetSlider=document.querySelector(".jsProductSlider")}connectedCallback(){this.toggleArrowTop(),this.toggleArrowBottom(),this.$arrowTop.addEventListener("click",()=>this.scrollToDir("top")),this.$arrowBottom.addEventListener("click",()=>this.scrollToDir("bottom")),this.$thumbnailsContainer.addEventListener("scroll",a(()=>{this.toggleArrowTop(),this.toggleArrowBottom()}).bind(this)),this.$thumbnails.forEach((i,t)=>{i.addEventListener("click",e=>{this.$targetSlider.swiper.slideTo(t),this.setCurrentThumbnail(t)})}),this.$targetSlider.swiper.on("slideChange",n(i=>this.updateThumbnailBySlide(),(this.$targetSlider.swiper.params.speed??300)+10).bind(this))}scrollToDir(i){const t=this.$thumbnailsContainer.scrollTop,o=this.$thumbnailsContainer.clientHeight/2;i==="top"?this.$thumbnailsContainer.scrollTo({top:t-o,behavior:"smooth"}):this.$thumbnailsContainer.scrollTo({top:t+o,behavior:"smooth"})}toggleArrowTop(){this.$arrowTop.hidden=this.$thumbnailsContainer.scrollTop<10}toggleArrowBottom(){this.$arrowBottom.hidden=this.$thumbnailsContainer.scrollTop+this.$thumbnailsContainer.clientHeight>=this.$thumbnailsContainer.scrollHeight}setCurrentThumbnail(i){this.$thumbnails.forEach((t,e)=>{t.dataset.thumbnail=e===i?"current":""})}updateThumbnailBySlide(){const i=this.$targetSlider.swiper.realIndex;this.setCurrentThumbnail(i),this.scrollToCurrentThumbnail(i)}scrollToCurrentThumbnail(i){const t=this.$thumbnails[i],e=t.offsetTop,o=t.clientHeight,r=this.$thumbnailsContainer.clientHeight,l=this.$thumbnailsContainer.scrollTop;e<l+o?this.$thumbnailsContainer.scrollTo({top:e-o,behavior:"smooth"}):e+o>l+r-o&&this.$thumbnailsContainer.scrollTo({top:e+o+o-r,behavior:"smooth"})}}customElements.define("thumbnails-scrollable",h);export{h as ThumbnailsScrollable};
