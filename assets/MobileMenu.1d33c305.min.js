import{i as e}from"./isNullOrUndefined.f9fb1932.min.js";import{f as n}from"./fetchSections.f98a5208.min.js";class a{constructor(){this.$mmButton=document.querySelector("[data-mm-toggle]"),this.$mmContainer=document.querySelector("[data-mm-container]"),this.$overlay=document.querySelector("[data-overlay]"),this.boundClose=this.close.bind(this),!(e(this.$mmButton)||e(this.$mmContainer))&&this.init()}init(){this.fetchMobileMenuSection(),this.countMenuMaxHeight();const t=this.$mmButton;e(t)||t.addEventListener("click",()=>{var o;if(t.dataset.mmToggle==="close"){t.dataset.mmToggle="open",this.close();return}t.dataset.mmToggle="close",(o=this.$mmContainer)==null||o.classList.remove("mm-hidden"),document.body.classList.add("overflow-hidden"),!e(this.$overlay)&&(this.$overlay.classList.remove("overlay-hidden"),this.$overlay.addEventListener("click",this.boundClose))})}countMenuMaxHeight(){const t=this.$mmContainer;if(e(t))return;const{top:i}=t.getBoundingClientRect();t.style.maxHeight=`${window.innerHeight-i}px`}close(){var t;e(this.$mmContainer)||(this.$mmContainer.classList.add("mm-hidden"),document.body.classList.remove("overflow-hidden"),(t=this.$mmButton)==null||t.setAttribute("data-mm-toggle","open"),!e(this.$overlay)&&(this.$overlay.classList.add("overlay-hidden"),this.$overlay.removeEventListener("click",this.boundClose)))}fetchMobileMenuSection(){n("static__mobile-menu").then(t=>{var i;(i=this.$mmContainer)==null||i.insertAdjacentHTML("beforeend",t["static__mobile-menu"])})}}export{a as MobileMenu};
